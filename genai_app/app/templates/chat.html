<!-- chat.html -->
{% extends "base.html" %}
{% block content %}
<div class="card chat-panel">
  <h2>Document Chat</h2>
  <p>Ask DocuMentor AI about your uploaded documents.</p>
  <form action="/chat" method="post" class="chat-form">
    <input type="text" name="user_id" placeholder="User ID" value="{{ user_id or '' }}" required />
    <textarea name="message" rows="2" placeholder="Your message..." required>{{ message or '' }}</textarea>
    <button type="submit" class="btn">Send</button>
  </form>

  {% if error %}
    <div class="toast error">{{ error }}</div>
  {% endif %}

  {% if response %}
    <div class="chat-entry">
      <p><span class="label you">You:</span> {{ message }}</p>
      <p><span class="label ai">AI:</span> {{ response }}</p>
      <div class="post-prompt">
        Continue chatting with the document or ask another question.
      </div>
    </div>
  {% endif %}
</div>
{% endblock %}
